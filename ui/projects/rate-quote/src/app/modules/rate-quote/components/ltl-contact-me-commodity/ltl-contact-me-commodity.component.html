<ng-container [formGroup]="commodityForm">
  <div class="form-row">
    <div class="form-group col-md-3">
      <mat-form-field appearance="outline">
        <mat-label>Class</mat-label>
        <mat-select
          id="shipClass{{ index }}"
          formControlName="shipClass"
          [required]="formService.hasRequiredField(shipClass)"
        >
          <mat-option [value]="o" *ngFor="let o of (classes$ | async)">{{ o }}</mat-option>
        </mat-select>
        <mat-error *ngIf="shipClass.invalid">{{
          formService.getErrorMessage(shipClass)
        }}</mat-error>
      </mat-form-field>
    </div>
    <div class="form-group col-md-3">
      <mat-form-field appearance="outline">
        <mat-label>Pieces</mat-label>
        <input
          id="pieces{{ index }}"
          matInput
          formControlName="pieces"
          [required]="formService.hasRequiredField(pieces)"
        />
        <mat-error *ngIf="pieces.invalid">{{ formService.getErrorMessage(pieces) }}</mat-error>
      </mat-form-field>
    </div>
    <div class="form-group col-md-3">
      <mat-form-field appearance="outline">
        <mat-label>Pieces Type</mat-label>
        <mat-select
          id="pieceType{{ index }}"
          formControlName="pieceType"
          [required]="formService.hasRequiredField(pieceType)"
        >
          <mat-option [value]="o.code" *ngFor="let o of (packageTypes$ | async)">{{
            o.description
          }}</mat-option>
        </mat-select>
        <mat-error *ngIf="pieceType.invalid">{{
          formService.getErrorMessage(pieceType)
        }}</mat-error>
      </mat-form-field>
    </div>
    <div class="form-group col-md-3">
      <mat-form-field appearance="outline">
        <mat-label>Weight</mat-label>
        <input
          id="weight{{ index }}"
          matInput
          formControlName="weight"
          [required]="formService.hasRequiredField(weight)"
        />
        <mat-error *ngIf="weight.invalid">{{ formService.getErrorMessage(weight) }}</mat-error>
      </mat-form-field>
    </div>
  </div>
  <div>
    <label><strong>Dimensions</strong></label>
  </div>
  <div class="form-row">
    <div class="form-group col-md-3">
      <mat-form-field appearance="outline">
        <mat-label>Length</mat-label>
        <input
          id="length{{ index }}"
          matInput
          formControlName="length"
          [required]="formService.hasRequiredField(length)"
        />
        <mat-error *ngIf="length.invalid">{{ formService.getErrorMessage(length) }}</mat-error>
      </mat-form-field>
    </div>
    <div class="form-group col-md-3">
      <mat-form-field appearance="outline">
        <mat-label>Width</mat-label>
        <input
          id="width{{ index }}"
          matInput
          formControlName="width"
          [required]="formService.hasRequiredField(width)"
        />
        <mat-error *ngIf="width.invalid">{{ formService.getErrorMessage(width) }}</mat-error>
      </mat-form-field>
    </div>
    <div class="form-group col-md-3">
      <mat-form-field appearance="outline">
        <mat-label>Height</mat-label>
        <input
          id="height{{ index }}"
          matInput
          formControlName="height"
          [required]="formService.hasRequiredField(height)"
        />
        <mat-error *ngIf="height.invalid">{{ formService.getErrorMessage(height) }}</mat-error>
      </mat-form-field>
    </div>
  </div>
  <div class="form-row">
    <div class="form group col-md-12">
      <mat-form-field appearance="outline">
        <mat-label>Description</mat-label>
        <input
          matInput
          name="description"
          id="description{{ index }}"
          formControlName="description"
          [required]="formService.hasRequiredField(description)"
        />
        <mat-error *ngIf="description.invalid">{{
          formService.getErrorMessage(description)
        }}</mat-error>
      </mat-form-field>
    </div>
  </div>
</ng-container>
